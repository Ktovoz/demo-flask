{% extends "layouts/auth_base.html" %}

{% block title %}注册 - 用户管理系统{% endblock %}

{% block auth_content %}
<form method="post" novalidate>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <h1 class="h4 mb-4 text-primary fw-semibold text-center">创建账号</h1>

    <div class="mb-3">
        <label class="form-label">用户名</label>
        <input type="text" class="form-control" name="username" placeholder="设置用户名" required>
    </div>
    <div class="mb-3">
        <label class="form-label">邮箱</label>
        <input type="email" class="form-control" name="email" placeholder="选填">
    </div>
    <div class="mb-3">
        <label class="form-label">密码</label>
        <input type="password" class="form-control" name="password" placeholder="至少 6 位" required>
    </div>
    <div class="mb-4">
        <label class="form-label">确认密码</label>
        <input type="password" class="form-control" name="password2" placeholder="再次输入密码" required>
    </div>

    <button class="btn btn-primary w-100 mb-3" type="submit">注册</button>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="alert alert-danger" role="alert">{{ messages[-1] }}</div>
    {% endif %}
    {% endwith %}

    <p class="text-center mt-3 mb-0">
        已有账号？ <a href="{{ url_for('auth.login') }}">立即登录</a>
    </p>
    <p class="text-muted small text-center mb-0">powered by KTO © 2025</p>
</form>
{% endblock %}

{% block styles %}
{{ super() }}
<style>
    body.bg-gradient-primary {
        background: linear-gradient(135deg, #56ccf2 0%, #2f80ed 100%);
    }
</style>
{% endblock %}
